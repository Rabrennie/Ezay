!function(){"use strict";function n(t){var e=t.options.el;if("string"==typeof e&&(e=document.querySelector(e)),null==e)throw"Could not bind to element";t.dom=function t(e,o){var r=[];for(var i=0;i<o.childNodes.length;i++){var n=o.childNodes[i];r.push(t(e,n))}var s={type:o.nodeName,props:a(o),children:r};return s}(t,e),t.on("state-update",function(t){var e=function t(e,o,r){if("#text"===e.type)return c(e,o);void 0!==this.models[e.type.toLowerCase()]&&(void 0===this.data[e.type.toLowerCase()][e.props["data-ezay-id"]]&&this.registerContext(e.props["data-ezay-id"],e.type.toLowerCase(),Object.assign({},this.models[e.type.toLowerCase()])),o=this.contextModels[e.type.toLowerCase()][e.props["data-ezay-id"]]);var i=document.createElement(e.type);for(var n in e.props)e.props.hasOwnProperty(n)&&function(){var t=e.props[n];i.setAttribute(n,t),"ezay:click"==n&&i.addEventListener("click",function(){return o[t].call(o)})}();for(var s=0;s<e.children.length;s++){var a=e.children[s];i.appendChild(t.call(this,a,o))}return i}.call(this,this.dom,{},""),o=document.querySelector("[data-ezay-id=".concat(this.dom.props["data-ezay-id"],"]"));o.parentNode.replaceChild(e,o)}.bind(t))}function a(t){return"#text"==t.nodeName?{textContent:t.textContent}:(t.setAttribute("data-ezay-id","_"+Math.random().toString(36).substr(2,9)),t&&Array.prototype.reduce.call(t.attributes,function(t,e){return t[e.name]=e.value,t},{})||{})}function c(t,e){for(var o,r=/{{\s*([a-zA-Z0-9]+)\s*}}/g,i=t.props.textContent;o=r.exec(i);){var n="";null!==e[o[1]]&&(n=e[o[1]]),i=i.replace(o[0],n)}return document.createTextNode(i)}function t(t){for(var e in this.options=Object.create(null),t)if(t.hasOwnProperty(e)){var o=t[e];void 0!==this.constructor.options[e]&&(this.options[e]=o)}for(var r in this.constructor.options)if(this.constructor.options.hasOwnProperty(r)){var i=this.constructor.options[r];if(void 0===this.options[r]){if(i.required)throw"Option ".concat(r," is required.");void 0!==i.default&&(this.options[r]=i.default)}}n(this)}function e(t,e){this.options[t]=Object.create(null),this.options[t].required=!!e.required,this.options[t].default=e.default}function o(t,e){void 0===this.eventListeners[t]&&(this.eventListeners[t]=[]),this.eventListeners[t].push(e)}function r(t,e){if(void 0!==this.eventListeners[t])for(var o=0;o<this.eventListeners[t].length;o++)this.eventListeners[t][o](e)}function i(t,e){if(void 0!==this.models[t])throw"Model "+t+" already registered.";this.models[t]=e,this.contextModels[t]=Object.create({}),this.data[t]=Object.create({}),this.update()}function s(o,r,i){for(var t in this.contextModels[r][o]=i,this.data[r][o]=Object.create(null),Object.defineProperty(i,"$add",{configurable:!1,enumerable:!1,value:function(t,e){p.call(this,this.data[r][o],i,t,e)}.bind(this)}),i)i.hasOwnProperty(t)&&p.call(this,this.data[r][o],i,t);this.update()}function d(t,e){this.dispatch("state-update",{data:t,prop:e})}function p(e,t,o,r){var i=this;e[o]=void 0!==r?r:t[o],Object.defineProperty(t,o,{get:function(){return e[o]},set:function(t){e[o]=t,i.update(e,o)}})}function u(t){this._init(t)}var h,l,f,v;(h=u).options=Object.create({}),h.registerOption=e,h.prototype._init=t,(l=u).prototype.eventListeners=Object.create({}),l.prototype.on=o,l.prototype.dispatch=r,(f=u).prototype.data=Object.create({}),f.prototype.models=Object.create({}),f.prototype.contextModels=Object.create({}),f.prototype.register=i,f.prototype.registerContext=s,f.prototype.update=d,(v=u).registerOption("el",{required:!0}),v.prototype.dom=Object.create({}),null!=window&&(window.Ezay=u)}();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiZXpheS5taW4uanMiLCJzb3VyY2VzIjpbIi4uL3NyYy9pbnN0YW5jZS9yZW5kZXIuanMiLCIuLi9zcmMvaW5zdGFuY2UvaW5pdC5qcyIsIi4uL3NyYy9pbnN0YW5jZS9ldmVudC5qcyIsIi4uL3NyYy9pbnN0YW5jZS9zdGF0ZS5qcyIsIi4uL3NyYy9pbnN0YW5jZS9pbmRleC5qcyIsIi4uL3NyYy9pbmRleC5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJmdW5jdGlvbiByZW5kZXJNaXhpbihFemF5KSB7XHJcblxyXG4gICAgRXpheS5yZWdpc3Rlck9wdGlvbignZWwnLCB7XHJcbiAgICAgICAgJ3JlcXVpcmVkJzogdHJ1ZVxyXG4gICAgfSk7XHJcblxyXG4gICAgRXpheS5wcm90b3R5cGUuZG9tID0gT2JqZWN0LmNyZWF0ZSh7fSk7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBpbml0UmVuZGVyKGV6YXkpIHtcclxuICAgIGxldCBlbCA9IGV6YXkub3B0aW9ucy5lbDtcclxuXHJcbiAgICBpZiAodHlwZW9mIGVsID09PSAnc3RyaW5nJykge1xyXG4gICAgICAgIGVsID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihlbCk7XHJcbiAgICB9XHJcblxyXG4gICAgaWYgKGVsID09IG51bGwpIHtcclxuICAgICAgICB0aHJvdyBcIkNvdWxkIG5vdCBiaW5kIHRvIGVsZW1lbnRcIjtcclxuICAgIH1cclxuXHJcbiAgICBlemF5LmRvbSA9IGNyZWF0ZUVsZW1lbnQoZXpheSwgZWwpO1xyXG5cclxuICAgIGV6YXkub24oJ3N0YXRlLXVwZGF0ZScsIG9uU3RhdGVVcGRhdGUuYmluZChlemF5KSk7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIGNyZWF0ZUVsZW1lbnQoZXpheSwgbm9kZSkge1xyXG5cclxuICAgIGNvbnN0IGNoaWxkcmVuID0gW107XHJcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IG5vZGUuY2hpbGROb2Rlcy5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgIGNvbnN0IG4gPSBub2RlLmNoaWxkTm9kZXNbaV07XHJcbiAgICAgICAgY2hpbGRyZW4ucHVzaChjcmVhdGVFbGVtZW50KGV6YXksIG4pKVxyXG4gICAgfVxyXG5cclxuICAgIGNvbnN0IGVsID0ge1xyXG4gICAgICAgICd0eXBlJzogbm9kZS5ub2RlTmFtZSxcclxuICAgICAgICAncHJvcHMnOiBmZXRjaEF0dHJpYnV0ZXMobm9kZSksXHJcbiAgICAgICAgJ2NoaWxkcmVuJzogY2hpbGRyZW5cclxuICAgIH07XHJcblxyXG4gICAgcmV0dXJuIGVsO1xyXG59XHJcblxyXG5mdW5jdGlvbiBmZXRjaEF0dHJpYnV0ZXMobm9kZSkge1xyXG4gICAgXHJcbiAgICBpZihub2RlLm5vZGVOYW1lID09ICcjdGV4dCcpIHtcclxuICAgICAgICByZXR1cm4ge1xyXG4gICAgICAgICAgICB0ZXh0Q29udGVudDogbm9kZS50ZXh0Q29udGVudFxyXG4gICAgICAgIH07XHJcbiAgICB9O1xyXG5cclxuICAgIG5vZGUuc2V0QXR0cmlidXRlKCdkYXRhLWV6YXktaWQnLCB1aWQoKSk7XHJcblxyXG4gICAgcmV0dXJuIG5vZGUgJiYgQXJyYXkucHJvdG90eXBlLnJlZHVjZS5jYWxsKG5vZGUuYXR0cmlidXRlcywgZnVuY3Rpb24gKGxpc3QsIGF0dHJpYnV0ZSkge1xyXG4gICAgICAgIGxpc3RbYXR0cmlidXRlLm5hbWVdID0gYXR0cmlidXRlLnZhbHVlO1xyXG4gICAgICAgIHJldHVybiBsaXN0O1xyXG4gICAgfSwge30pIHx8IHt9O1xyXG59O1xyXG5cclxuZnVuY3Rpb24gdWlkKCkge1xyXG4gICAgcmV0dXJuICdfJyArIE1hdGgucmFuZG9tKCkudG9TdHJpbmcoMzYpLnN1YnN0cigyLCA5KTtcclxufTtcclxuXHJcbmZ1bmN0aW9uIG9uU3RhdGVVcGRhdGUob2JqKSB7XHJcbiAgICBjb25zdCB2bm9kZSA9IHJlbmRlckVsLmNhbGwodGhpcywgdGhpcy5kb20sIHt9LCAnJyk7XHJcbiAgICBjb25zdCBub2RlID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihgW2RhdGEtZXpheS1pZD0ke3RoaXMuZG9tLnByb3BzWydkYXRhLWV6YXktaWQnXX1dYCk7XHJcbiAgICBcclxuICAgIG5vZGUucGFyZW50Tm9kZS5yZXBsYWNlQ2hpbGQodm5vZGUsIG5vZGUpO1xyXG59O1xyXG5cclxuLy8gVE9ETzogaW1wbGVtZW50IGEgYmV0dGVyIHZpcnR1YWwgZG9tICggb25seSB1cGRhdGUgY2hhbmdlZCBub2RlcyBldGMuIClcclxuLy8gVE9ETzogaGFuZGxlIGV4dGVybmFsIGNoYW5nZXMgdG8gZG9tXHJcbmZ1bmN0aW9uIHJlbmRlckVsKGVsLCBjb250ZXh0LCBtb2RlbE5hbWUpIHtcclxuICAgIGlmKGVsLnR5cGUgPT09ICcjdGV4dCcpIHtcclxuICAgICAgICByZXR1cm4gY3JlYXRlVGV4dE5vZGUoZWwsIGNvbnRleHQpXHJcbiAgICB9XHJcblxyXG4gICAgaWYodGhpcy5tb2RlbHNbZWwudHlwZS50b0xvd2VyQ2FzZSgpXSAhPT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgICAgaWYodGhpcy5kYXRhW2VsLnR5cGUudG9Mb3dlckNhc2UoKV1bZWwucHJvcHNbJ2RhdGEtZXpheS1pZCddXSA9PT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgICAgICAgIHRoaXMucmVnaXN0ZXJDb250ZXh0KGVsLnByb3BzWydkYXRhLWV6YXktaWQnXSwgZWwudHlwZS50b0xvd2VyQ2FzZSgpLCBPYmplY3QuYXNzaWduKHt9LCB0aGlzLm1vZGVsc1tlbC50eXBlLnRvTG93ZXJDYXNlKCldICkpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBjb250ZXh0ID0gdGhpcy5jb250ZXh0TW9kZWxzW2VsLnR5cGUudG9Mb3dlckNhc2UoKV1bZWwucHJvcHNbJ2RhdGEtZXpheS1pZCddXTtcclxuICAgIH1cclxuXHJcbiAgICBjb25zdCB2bm9kZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoZWwudHlwZSlcclxuXHJcbiAgICBmb3IgKGNvbnN0IGtleSBpbiBlbC5wcm9wcykge1xyXG4gICAgICAgIGlmIChlbC5wcm9wcy5oYXNPd25Qcm9wZXJ0eShrZXkpKSB7XHJcbiAgICAgICAgICAgIGNvbnN0IHByb3AgPSBlbC5wcm9wc1trZXldO1xyXG4gICAgICAgICAgICB2bm9kZS5zZXRBdHRyaWJ1dGUoa2V5LCBwcm9wKTtcclxuXHJcbiAgICAgICAgICAgIGlmKGtleSA9PSBcImV6YXk6Y2xpY2tcIikge1xyXG4gICAgICAgICAgICAgICAgdm5vZGUuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiBjb250ZXh0W3Byb3BdLmNhbGwoY29udGV4dCkpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgZWwuY2hpbGRyZW4ubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICBjb25zdCBjaGlsZCA9IGVsLmNoaWxkcmVuW2ldO1xyXG4gICAgICAgIHZub2RlLmFwcGVuZENoaWxkKHJlbmRlckVsLmNhbGwodGhpcywgY2hpbGQsIGNvbnRleHQpKTtcclxuICAgIH1cclxuXHJcbiAgICByZXR1cm4gdm5vZGU7XHJcbn07XHJcblxyXG5mdW5jdGlvbiBjcmVhdGVUZXh0Tm9kZShlbCwgY29udGV4dCkge1xyXG4gICAgdmFyIHJlID0gL3t7XFxzKihbYS16QS1aMC05XSspXFxzKn19L2dcclxuICAgIHZhciB0ZXh0ID0gZWwucHJvcHMudGV4dENvbnRlbnQ7XHJcbiAgICB2YXIgcmVzO1xyXG4gICAgd2hpbGUocmVzID0gcmUuZXhlYyh0ZXh0KSkge1xyXG4gICAgICAgIHZhciBkYXRhID0gJyc7IFxyXG4gICAgICAgIGlmKGNvbnRleHRbcmVzWzFdXSAhPT0gbnVsbCkge1xyXG4gICAgICAgICAgICBkYXRhID0gY29udGV4dFtyZXNbMV1dO1xyXG4gICAgICAgIH1cclxuICAgICAgICB0ZXh0ID0gdGV4dC5yZXBsYWNlKHJlc1swXSwgZGF0YSk7XHJcbiAgICB9XHJcbiAgICByZXR1cm4gZG9jdW1lbnQuY3JlYXRlVGV4dE5vZGUodGV4dClcclxufVxyXG5cclxuZXhwb3J0IGRlZmF1bHQgcmVuZGVyTWl4aW47IiwiaW1wb3J0IHsgaW5pdFJlbmRlciB9IGZyb20gJy4vcmVuZGVyLmpzJ1xyXG5cclxuZnVuY3Rpb24gaW5pdE1peGluKEV6YXkpIHtcclxuICAgIEV6YXkub3B0aW9ucyA9IE9iamVjdC5jcmVhdGUoe30pO1xyXG4gICAgRXpheS5yZWdpc3Rlck9wdGlvbiA9IHJlZ2lzdGVyT3B0aW9uO1xyXG4gICAgRXpheS5wcm90b3R5cGUuX2luaXQgPSBpbml0O1xyXG59XHJcblxyXG5mdW5jdGlvbiBpbml0KG9wdGlvbnMpIHtcclxuICAgIHRoaXMub3B0aW9ucyA9IE9iamVjdC5jcmVhdGUobnVsbCk7XHJcblxyXG4gICAgZm9yIChjb25zdCBrZXkgaW4gb3B0aW9ucykge1xyXG4gICAgICAgIGlmIChvcHRpb25zLmhhc093blByb3BlcnR5KGtleSkpIHtcclxuICAgICAgICAgICAgY29uc3Qgb3B0aW9uID0gb3B0aW9uc1trZXldO1xyXG4gICAgICAgICAgICBpZih0aGlzLmNvbnN0cnVjdG9yLm9wdGlvbnNba2V5XSAhPT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLm9wdGlvbnNba2V5XSA9IG9wdGlvbjtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIFxyXG4gICAgZm9yIChjb25zdCBrZXkgaW4gdGhpcy5jb25zdHJ1Y3Rvci5vcHRpb25zKSB7XHJcbiAgICAgICAgaWYgKHRoaXMuY29uc3RydWN0b3Iub3B0aW9ucy5oYXNPd25Qcm9wZXJ0eShrZXkpKSB7XHJcbiAgICAgICAgICAgIGNvbnN0IG9wdGlvbiA9IHRoaXMuY29uc3RydWN0b3Iub3B0aW9uc1trZXldO1xyXG4gICAgICAgICAgICBpZih0aGlzLm9wdGlvbnNba2V5XSA9PT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgICAgICAgICAgICBpZihvcHRpb24ucmVxdWlyZWQpIHtcclxuICAgICAgICAgICAgICAgICAgICB0aHJvdyBgT3B0aW9uICR7a2V5fSBpcyByZXF1aXJlZC5gO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgaWYob3B0aW9uLmRlZmF1bHQgIT09IHVuZGVmaW5lZCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMub3B0aW9uc1trZXldID0gb3B0aW9uLmRlZmF1bHQ7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgaW5pdFJlbmRlcih0aGlzKTtcclxufVxyXG5cclxuZnVuY3Rpb24gcmVnaXN0ZXJPcHRpb24obmFtZSwgb3B0aW9ucykge1xyXG4gICAgdGhpcy5vcHRpb25zW25hbWVdID0gT2JqZWN0LmNyZWF0ZShudWxsKTtcclxuICAgIHRoaXMub3B0aW9uc1tuYW1lXS5yZXF1aXJlZCA9ICEhb3B0aW9ucy5yZXF1aXJlZDtcclxuICAgIHRoaXMub3B0aW9uc1tuYW1lXS5kZWZhdWx0ID0gb3B0aW9ucy5kZWZhdWx0O1xyXG59XHJcblxyXG5cclxuZXhwb3J0IGRlZmF1bHQgaW5pdE1peGluOyIsImZ1bmN0aW9uIGV2ZW50TWl4aW4oRXpheSkge1xyXG5cclxuICAgIEV6YXkucHJvdG90eXBlLmV2ZW50TGlzdGVuZXJzID0gT2JqZWN0LmNyZWF0ZSh7fSk7XHJcblxyXG4gICAgRXpheS5wcm90b3R5cGUub24gPSBvbjtcclxuICAgIEV6YXkucHJvdG90eXBlLmRpc3BhdGNoID0gZGlzcGF0Y2g7XHJcblxyXG59XHJcblxyXG5mdW5jdGlvbiBvbihldmVudCwgaGFuZGxlcikge1xyXG4gICAgaWYodGhpcy5ldmVudExpc3RlbmVyc1tldmVudF0gPT09IHVuZGVmaW5lZCkge1xyXG4gICAgICAgIHRoaXMuZXZlbnRMaXN0ZW5lcnNbZXZlbnRdID0gW107XHJcbiAgICB9XHJcblxyXG4gICAgdGhpcy5ldmVudExpc3RlbmVyc1tldmVudF0ucHVzaChoYW5kbGVyKTtcclxufVxyXG5cclxuZnVuY3Rpb24gZGlzcGF0Y2goZXZlbnQsIG9iaikge1xyXG4gICAgaWYodGhpcy5ldmVudExpc3RlbmVyc1tldmVudF0gPT09IHVuZGVmaW5lZCkge1xyXG4gICAgICAgIHJldHVybjtcclxuICAgIH1cclxuXHJcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRoaXMuZXZlbnRMaXN0ZW5lcnNbZXZlbnRdLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgdGhpcy5ldmVudExpc3RlbmVyc1tldmVudF1baV0ob2JqKTtcclxuICAgICAgICBcclxuICAgIH1cclxufVxyXG5cclxuZXhwb3J0IGRlZmF1bHQgZXZlbnRNaXhpbjsiLCJmdW5jdGlvbiBzdGF0ZU1peGluKEV6YXkpIHtcclxuICAgIEV6YXkucHJvdG90eXBlLmRhdGEgPSBPYmplY3QuY3JlYXRlKHt9KTtcclxuICAgIEV6YXkucHJvdG90eXBlLm1vZGVscyA9IE9iamVjdC5jcmVhdGUoe30pO1xyXG4gICAgRXpheS5wcm90b3R5cGUuY29udGV4dE1vZGVscyA9IE9iamVjdC5jcmVhdGUoe30pO1xyXG4gICAgRXpheS5wcm90b3R5cGUucmVnaXN0ZXIgPSByZWdpc3RlcjtcclxuICAgIEV6YXkucHJvdG90eXBlLnJlZ2lzdGVyQ29udGV4dCA9IHJlZ2lzdGVyQ29udGV4dDtcclxuICAgIEV6YXkucHJvdG90eXBlLnVwZGF0ZSA9IHVwZGF0ZTtcclxufVxyXG5cclxuZnVuY3Rpb24gcmVnaXN0ZXIobmFtZSwgb2JqKSB7XHJcbiAgICBpZiAodGhpcy5tb2RlbHNbbmFtZV0gIT09IHVuZGVmaW5lZCkge1xyXG4gICAgICAgIHRocm93IFwiTW9kZWwgXCIgKyBuYW1lICsgXCIgYWxyZWFkeSByZWdpc3RlcmVkLlwiXHJcbiAgICB9XHJcblxyXG4gICAgdGhpcy5tb2RlbHNbbmFtZV0gPSBvYmo7XHJcblxyXG4gICAgdGhpcy5jb250ZXh0TW9kZWxzW25hbWVdID0gT2JqZWN0LmNyZWF0ZSh7fSk7XHJcbiAgICB0aGlzLmRhdGFbbmFtZV0gPSBPYmplY3QuY3JlYXRlKHt9KTtcclxuXHJcbiAgICB0aGlzLnVwZGF0ZSgpO1xyXG59XHJcblxyXG5mdW5jdGlvbiByZWdpc3RlckNvbnRleHQobmFtZSwgbW9kZWxOYW1lLCBvYmopIHtcclxuICAgIFxyXG4gICAgdGhpcy5jb250ZXh0TW9kZWxzW21vZGVsTmFtZV1bbmFtZV0gPSBvYmo7XHJcbiAgICB0aGlzLmRhdGFbbW9kZWxOYW1lXVtuYW1lXSA9IE9iamVjdC5jcmVhdGUobnVsbCk7XHJcblxyXG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KG9iaiwgJyRhZGQnLCB7XHJcbiAgICAgICAgY29uZmlndXJhYmxlOiBmYWxzZSxcclxuICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcclxuICAgICAgICB2YWx1ZTogZnVuY3Rpb24ocHJvcCwgdmFsKSB7XHJcbiAgICAgICAgICAgIGFkZFdhdGNoZXIuY2FsbCh0aGlzLCB0aGlzLmRhdGFbbW9kZWxOYW1lXVtuYW1lXSwgb2JqLCBwcm9wLCB2YWwpO1xyXG4gICAgICAgIH0uYmluZCh0aGlzKVxyXG4gICAgfSk7XHJcblxyXG4gICAgZm9yIChjb25zdCBrZXkgaW4gb2JqKSB7XHJcbiAgICAgICAgaWYgKG9iai5oYXNPd25Qcm9wZXJ0eShrZXkpKSB7XHJcbiAgICAgICAgICAgIGFkZFdhdGNoZXIuY2FsbCh0aGlzLCB0aGlzLmRhdGFbbW9kZWxOYW1lXVtuYW1lXSwgb2JqLCBrZXkpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICB0aGlzLnVwZGF0ZSgpO1xyXG59XHJcblxyXG5mdW5jdGlvbiB1cGRhdGUoZGF0YSwgcHJvcCkge1xyXG4gICAgdGhpcy5kaXNwYXRjaCgnc3RhdGUtdXBkYXRlJywgeyBkYXRhLCBwcm9wIH0pXHJcbn1cclxuXHJcbi8vIFRPRE86IGhhbmRsZSBhcnJheXMvb2JqZWN0c1xyXG5mdW5jdGlvbiBhZGRXYXRjaGVyKGRhdGEsIG9iaiwgcHJvcCwgdmFsKSB7XHJcbiAgICBjb25zdCBfdGhpcyA9IHRoaXM7XHJcblxyXG4gICAgaWYodmFsICE9PSB1bmRlZmluZWQpIHtcclxuICAgICAgICBkYXRhW3Byb3BdID0gdmFsXHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICAgIGRhdGFbcHJvcF0gPSBvYmpbcHJvcF07XHJcbiAgICB9XHJcblxyXG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KG9iaiwgcHJvcCwge1xyXG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkgeyByZXR1cm4gZGF0YVtwcm9wXSB9LFxyXG4gICAgICAgIHNldDogZnVuY3Rpb24gKHZhbCkgeyBkYXRhW3Byb3BdID0gdmFsOyBfdGhpcy51cGRhdGUoZGF0YSwgcHJvcCk7IH0sXHJcbiAgICB9KTtcclxufVxyXG5cclxuZXhwb3J0IGRlZmF1bHQgc3RhdGVNaXhpbjtcclxuIiwiaW1wb3J0IGluaXRNaXhpbiBmcm9tICcuL2luaXQuanMnXHJcbmltcG9ydCBldmVudE1peGluIGZyb20gJy4vZXZlbnQuanMnXHJcbmltcG9ydCBzdGF0ZU1peGluIGZyb20gJy4vc3RhdGUuanMnXHJcbmltcG9ydCByZW5kZXJNaXhpbiBmcm9tICcuL3JlbmRlci5qcydcclxuXHJcbmZ1bmN0aW9uIEV6YXkob3B0aW9ucykge1xyXG4gICAgdGhpcy5faW5pdChvcHRpb25zKTtcclxufVxyXG5cclxuaW5pdE1peGluKEV6YXkpO1xyXG5ldmVudE1peGluKEV6YXkpO1xyXG5zdGF0ZU1peGluKEV6YXkpO1xyXG5yZW5kZXJNaXhpbihFemF5KTtcclxuXHJcbmV4cG9ydCBkZWZhdWx0IEV6YXk7IiwiaW1wb3J0IEV6YXkgZnJvbSAnLi9pbnN0YW5jZS9pbmRleC5qcyc7XHJcblxyXG5pZih3aW5kb3cgIT0gbnVsbCkge1xyXG4gICAgd2luZG93LkV6YXkgPSBFemF5O1xyXG59Il0sIm5hbWVzIjpbImluaXRSZW5kZXIiLCJlemF5IiwiZWwiLCJvcHRpb25zIiwiZG9jdW1lbnQiLCJxdWVyeVNlbGVjdG9yIiwiZG9tIiwiY3JlYXRlRWxlbWVudCIsIm5vZGUiLCJjaGlsZHJlbiIsImkiLCJjaGlsZE5vZGVzIiwibGVuZ3RoIiwibiIsInB1c2giLCJub2RlTmFtZSIsImZldGNoQXR0cmlidXRlcyIsIm9uIiwib2JqIiwidm5vZGUiLCJyZW5kZXJFbCIsImNvbnRleHQiLCJtb2RlbE5hbWUiLCJ0eXBlIiwiY3JlYXRlVGV4dE5vZGUiLCJ1bmRlZmluZWQiLCJ0aGlzIiwibW9kZWxzIiwidG9Mb3dlckNhc2UiLCJkYXRhIiwicHJvcHMiLCJyZWdpc3RlckNvbnRleHQiLCJPYmplY3QiLCJhc3NpZ24iLCJjb250ZXh0TW9kZWxzIiwia2V5IiwiaGFzT3duUHJvcGVydHkiLCJwcm9wIiwic2V0QXR0cmlidXRlIiwiYWRkRXZlbnRMaXN0ZW5lciIsImNhbGwiLCJjaGlsZCIsImFwcGVuZENoaWxkIiwicGFyZW50Tm9kZSIsInJlcGxhY2VDaGlsZCIsImJpbmQiLCJ0ZXh0Q29udGVudCIsIk1hdGgiLCJyYW5kb20iLCJ0b1N0cmluZyIsInN1YnN0ciIsIkFycmF5IiwicHJvdG90eXBlIiwicmVkdWNlIiwiYXR0cmlidXRlcyIsImxpc3QiLCJhdHRyaWJ1dGUiLCJuYW1lIiwidmFsdWUiLCJyZXMiLCJyZSIsInRleHQiLCJleGVjIiwicmVwbGFjZSIsImluaXQiLCJjcmVhdGUiLCJvcHRpb24iLCJjb25zdHJ1Y3RvciIsInJlcXVpcmVkIiwiZGVmYXVsdCIsInJlZ2lzdGVyT3B0aW9uIiwiZXZlbnQiLCJoYW5kbGVyIiwiZXZlbnRMaXN0ZW5lcnMiLCJkaXNwYXRjaCIsInJlZ2lzdGVyIiwidXBkYXRlIiwiZGVmaW5lUHJvcGVydHkiLCJjb25maWd1cmFibGUiLCJlbnVtZXJhYmxlIiwidmFsIiwiYWRkV2F0Y2hlciIsIl90aGlzIiwiZ2V0Iiwic2V0IiwiRXpheSIsIl9pbml0Iiwid2luZG93Il0sIm1hcHBpbmdzIjoieUJBU08sU0FBU0EsRUFBV0MsT0FDbkJDLEVBQUtELEVBQUtFLFFBQVFELE1BRUosaUJBQVBBLElBQ1BBLEVBQUtFLFNBQVND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
